<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 4 Session 1 - Reading Comprehension</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #2c3e50;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #e67e22;
            font-size: 18px;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .reading-text {
            background-color: #f8f9fa;
            padding: 25px;
            border-left: 4px solid #e67e22;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .reading-header {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .reading-text p {
            margin-bottom: 15px;
        }

        .question {
            background-color: #ffffff;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
        }

        .question-number {
            color: #e67e22;
            font-weight: bold;
            margin-bottom: 10px;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin-top: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 16px;
            font-family: inherit;
        }

        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #e67e22;
        }

        textarea {
            min-height: 60px;
            resize: vertical;
        }

        .checkbox-group {
            margin-top: 10px;
        }

        .checkbox-item {
            margin: 10px 0;
            display: flex;
            align-items: flex-start;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 4px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-item label {
            cursor: pointer;
        }

        .justify-input {
            width: 100%;
            margin-left: 25px;
            margin-top: 5px;
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
        }

        button {
            background-color: #e67e22;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            margin-right: 10px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #d35400;
        }

        .reset-btn {
            background-color: #95a5a6;
        }

        .reset-btn:hover {
            background-color: #7f8c8d;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 5px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback h3 {
            margin-bottom: 15px;
        }

        .feedback-item {
            padding: 10px;
            margin: 8px 0;
            border-radius: 5px;
        }

        .correct {
            background-color: #d4edda;
            border-left: 4px solid #27ae60;
        }

        .incorrect {
            background-color: #f8d7da;
            border-left: 4px solid #e74c3c;
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .score-value {
            color: #e67e22;
            font-size: 32px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .subtitle {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Unit 4 · Emergency Procedures</h1>
        <div class="subtitle">Session 1 - Reading Comprehension</div>

        <div class="reading-text">
            <div class="reading-header">INCIDENT REPORT · REF: 2024-087<br>
            Company: PowerTech Installations<br>
            Date: 15 March 2024<br>
            Type: Near miss</div>
            
            <p>Yesterday afternoon, while our team was working on a residential solar panel installation, we experienced a serious near miss. Two electricians, David and Ahmed, were installing the inverter on the ground floor. David was connecting the DC cables when suddenly he felt a tingling sensation in his hand. He immediately stopped working and stepped back.</p>
            
            <p>Ahmed, who was working nearby, noticed David's reaction and asked what was happening. David explained that he had felt a small shock. They both checked the installation and discovered that someone had accidentally energized the circuit breaker in the main panel. The circuit should have been isolated, but it wasn't.</p>
            
            <p>Fortunately, David was wearing insulated gloves, which protected him from a more serious electrical shock. After the incident, Ahmed called the supervisor, and the entire team stopped working. The supervisor implemented the lockout/tagout procedure correctly, and they verified that all circuits were de-energized before continuing.</p>
            
            <p>This near miss happened because the communication between the ground floor team and the electrician working on the roof wasn't clear. The electrician on the roof thought the installation was complete and switched on the breaker. As a result, we must improve our communication protocols during installations.</p>
            
            <p>Nobody was injured, but this incident could have resulted in a fatal accident. Therefore, we are organizing a safety training session next week for all team members.</p>
        </div>

        <form id="quizForm">
            <div class="question">
                <div class="question-number">1. What type of installation was the team working on?</div>
                <input type="text" id="q1" placeholder="Your answer">
            </div>

            <div class="question">
                <div class="question-number">2. Why did David stop working immediately?</div>
                <input type="text" id="q2" placeholder="Your answer">
            </div>

            <div class="question">
                <div class="question-number">3. What safety equipment protected David from a serious shock?</div>
                <input type="text" id="q3" placeholder="Your answer">
            </div>

            <div class="question">
                <div class="question-number">4. What did Ahmed do after David felt the shock?</div>
                <input type="text" id="q4" placeholder="Your answer">
            </div>

            <div class="question">
                <div class="question-number">5. What was the main cause of this near miss?</div>
                <textarea id="q5" placeholder="Your answer"></textarea>
            </div>

            <div class="question">
                <div class="question-number">6. True or False (justify your answer):</div>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="q6a" value="false">
                        <label for="q6a">The circuit breaker was properly isolated before David started working.</label>
                    </div>
                    <input type="text" class="justify-input" id="q6a-justify" placeholder="Justify your answer">
                    
                    <div class="checkbox-item">
                        <input type="checkbox" id="q6b" value="true">
                        <label for="q6b">The supervisor followed the correct safety procedures after the incident.</label>
                    </div>
                    <input type="text" class="justify-input" id="q6b-justify" placeholder="Justify your answer">
                    
                    <div class="checkbox-item">
                        <input type="checkbox" id="q6c" value="false">
                        <label for="q6c">This incident resulted in serious injuries.</label>
                    </div>
                    <input type="text" class="justify-input" id="q6c-justify" placeholder="Justify your answer">
                </div>
            </div>

            <div class="question">
                <div class="question-number">7. What action is the company taking to prevent similar incidents?</div>
                <input type="text" id="q7" placeholder="Your answer">
            </div>

            <button type="button" onclick="checkAnswers()">Check Answers</button>
            <button type="button" class="reset-btn" onclick="resetQuiz()">Reset</button>
        </form>

        <div id="feedback" class="feedback"></div>
    </div>

    <script>
        const answers = {
            q1: ["solar panel", "residential solar panel", "solar panel installation", "solar"],
            q2: ["felt a tingling sensation", "felt a shock", "tingling sensation", "small shock", "he felt"],
            q3: ["insulated gloves", "gloves"],
            q4: ["called the supervisor", "called supervisor", "he called"],
            q5: ["communication", "poor communication", "communication wasn't clear", "communication between", "electrician on the roof"],
            q6a: "false",
            q6b: "true",
            q6c: "false",
            q7: ["safety training", "training session", "organizing a safety training", "organizing training"]
        };

        function normalizeText(text) {
            return text.toLowerCase().trim().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, "");
        }

        function checkAnswer(userAnswer, correctAnswers) {
            const normalized = normalizeText(userAnswer);
            if (Array.isArray(correctAnswers)) {
                return correctAnswers.some(answer => normalized.includes(normalizeText(answer)));
            }
            return normalized === normalizeText(correctAnswers);
        }

        function checkAnswers() {
            let score = 0;
            let total = 7;
            let feedbackHTML = '<h3>Results</h3>';

            // Q1
            const q1 = document.getElementById('q1').value;
            const q1Correct = checkAnswer(q1, answers.q1);
            if (q1Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q1Correct ? 'correct' : 'incorrect'}">
                <strong>1.</strong> ${q1Correct ? '✓' : '✗'} 
                ${q1Correct ? 'Correct!' : 'Expected: A residential solar panel installation'}
            </div>`;

            // Q2
            const q2 = document.getElementById('q2').value;
            const q2Correct = checkAnswer(q2, answers.q2);
            if (q2Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q2Correct ? 'correct' : 'incorrect'}">
                <strong>2.</strong> ${q2Correct ? '✓' : '✗'} 
                ${q2Correct ? 'Correct!' : 'Expected: Because he felt a tingling sensation / small shock'}
            </div>`;

            // Q3
            const q3 = document.getElementById('q3').value;
            const q3Correct = checkAnswer(q3, answers.q3);
            if (q3Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q3Correct ? 'correct' : 'incorrect'}">
                <strong>3.</strong> ${q3Correct ? '✓' : '✗'} 
                ${q3Correct ? 'Correct!' : 'Expected: Insulated gloves'}
            </div>`;

            // Q4
            const q4 = document.getElementById('q4').value;
            const q4Correct = checkAnswer(q4, answers.q4);
            if (q4Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q4Correct ? 'correct' : 'incorrect'}">
                <strong>4.</strong> ${q4Correct ? '✓' : '✗'} 
                ${q4Correct ? 'Correct!' : 'Expected: He called the supervisor'}
            </div>`;

            // Q5
            const q5 = document.getElementById('q5').value;
            const q5Correct = checkAnswer(q5, answers.q5);
            if (q5Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q5Correct ? 'correct' : 'incorrect'}">
                <strong>5.</strong> ${q5Correct ? '✓' : '✗'} 
                ${q5Correct ? 'Correct!' : 'Expected: Poor communication between teams / The electrician on the roof energized the breaker'}
            </div>`;

            // Q6
            const q6aChecked = document.getElementById('q6a').checked;
            const q6bChecked = document.getElementById('q6b').checked;
            const q6cChecked = document.getElementById('q6c').checked;
            
            const q6aCorrect = q6aChecked === false;
            const q6bCorrect = q6bChecked === true;
            const q6cCorrect = q6cChecked === false;
            
            if (q6aCorrect && q6bCorrect && q6cCorrect) score++;
            
            feedbackHTML += `<div class="feedback-item ${(q6aCorrect && q6bCorrect && q6cCorrect) ? 'correct' : 'incorrect'}">
                <strong>6.</strong> ${(q6aCorrect && q6bCorrect && q6cCorrect) ? '✓' : '✗'} 
                True/False: ${q6aCorrect ? '✓' : '✗'} First statement (FALSE), 
                ${q6bCorrect ? '✓' : '✗'} Second statement (TRUE), 
                ${q6cCorrect ? '✓' : '✗'} Third statement (FALSE)
            </div>`;

            // Q7
            const q7 = document.getElementById('q7').value;
            const q7Correct = checkAnswer(q7, answers.q7);
            if (q7Correct) score++;
            feedbackHTML += `<div class="feedback-item ${q7Correct ? 'correct' : 'incorrect'}">
                <strong>7.</strong> ${q7Correct ? '✓' : '✗'} 
                ${q7Correct ? 'Correct!' : 'Expected: Organizing a safety training session'}
            </div>`;

            const percentage = Math.round((score / total) * 100);
            const scoreHTML = `<div class="score">Your Score: <span class="score-value">${score}/${total}</span> (${percentage}%)</div>`;

            document.getElementById('feedback').innerHTML = scoreHTML + feedbackHTML;
            document.getElementById('feedback').classList.add('show');
            document.getElementById('feedback').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function resetQuiz() {
            document.getElementById('quizForm').reset();
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('feedback').innerHTML = '';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>